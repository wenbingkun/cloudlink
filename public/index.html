<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CloudLink - 文件分享服务</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div id="background-animation"></div>
    <div class="main-container">
        <!-- 头部导航 -->
        <div class="header">
            <h1>CloudLink</h1>
            <div class="nav-tabs">
                <div class="nav-tab active" data-tab="upload">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-upload-cloud"><path d="M12 2a10 10 0 0 1 10 10c0 5.52-4.48 10-10 10S2 17.52 2 12A10 10 0 0 1 12 2z"/><path d="M12 16l-4-4h3V8h2v4h3l-4 4z"/></svg>
                    文件上传
                </div>
                <div class="nav-tab" data-tab="admin">
                     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V15z"></path></svg>
                    文件管理
                </div>
            </div>
        </div>

        <!-- 主内容区域 -->
        <div class="content-container">
            <!-- 登录界面 -->
            <div id="login-section" class="content-section">
                <div class="login-container">
                    <h2>管理员登录</h2>
                    <form class="login-form" id="loginForm">
                        <div class="form-group">
                            <input type="password" id="adminPassword" required placeholder="管理员密码">
                        </div>
                        <button type="submit" class="btn btn-primary">登录</button>
                    </form>
                </div>
            </div>

            <!-- 上传界面 -->
            <div id="upload-section" class="content-section active">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M21.2 15c.7-1.2 1-2.5.7-3.9-.6-2.4-2.4-4.2-4.8-4.8-1.4-.3-2.7-.1-3.9.7L12 8 9.8 6.9c-1.2-.7-2.5-1-3.9-.7-2.4.6-4.2 2.4-4.8 4.8-.3 1.4-.1 2.7.7 3.9L2 15.6V16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-.4l-1.2-.7zM12 12.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"/></svg>
                    </div>
                    <div class="upload-text">拖拽文件到这里，或点击选择文件</div>
                    <div class="upload-hint">支持多文件上传，最大 2GB</div>
                    <input type="file" id="fileInput" style="display: none;" multiple accept="image/*,video/*,audio/*,*">
                </div>
                
                <div class="file-queue" id="fileQueue"></div>
                
                <div class="upload-controls">
                    <button id="uploadBtn" class="btn btn-primary" disabled>开始上传</button>
                    <button id="clearBtn" class="btn btn-secondary">清空队列</button>
                </div>
            </div>

            <!-- 管理界面 -->
            <div id="admin-section" class="content-section">
                <div class="admin-controls">
                    <input type="text" id="searchInput" class="search-input" placeholder="搜索文件...">
                    <select id="typeFilter" class="filter-select">
                        <option value="">所有类型</option>
                        <option value="image">图片</option>
                        <option value="video">视频</option>
                        <option value="audio">音频</option>
                        <option value="document">文档</option>
                        <option value="archive">压缩包</option>
                        <option value="other">其他</option>
                    </select>
                    <select id="sortBy" class="filter-select">
                        <option value="name">按名称</option>
                        <option value="size">按大小</option>
                        <option value="date">按日期</option>
                    </select>
                    <button id="refreshBtn" class="btn btn-secondary">刷新</button>
                </div>
                
                <div class="admin-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="totalFiles">0</div>
                        <div class="stat-label">总文件数</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalSize">0</div>
                        <div class="stat-label">总大小</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="selectedCount">0</div>
                        <div class="stat-label">已选择</div>
                    </div>
                </div>
                
                <div class="batch-actions hidden" id="batchActions">
                    <button id="selectAllBtn" class="btn btn-secondary btn-sm">全选</button>
                    <button id="deselectAllBtn" class="btn btn-secondary btn-sm">取消选择</button>
                    <button id="deleteSelectedBtn" class="btn btn-danger btn-sm">删除选中</button>
                </div>
                
                <div class="files-grid" id="filesGrid"></div>
                <button id="loadMoreBtn" class="btn btn-primary hidden">加载更多</button>
            </div>
        </div>
    </div>

    <!-- 密码输入模态框 -->
    <div id="passwordModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-title">输入上传密码</div>
            <input type="password" id="modalPasswordInput" class="modal-input" placeholder="请输入上传密码">
            <div class="modal-actions">
                <button id="modalCancelBtn" class="modal-btn modal-btn-secondary">取消</button>
                <button id="modalConfirmBtn" class="modal-btn modal-btn-primary">确认</button>
            </div>
        </div>
    </div>

    <!-- 确认对话框 -->
    <div id="confirmModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-title">确认操作</div>
            <div class="modal-description" id="confirmMessage">确定要执行此操作吗？</div>
            <div class="modal-actions">
                <button id="confirmCancelBtn" class="modal-btn modal-btn-secondary">取消</button>
                <button id="confirmOkBtn" class="modal-btn modal-btn-primary">确认</button>
            </div>
        </div>
    </div>

    <script src="/client.js"></script>
</body>
</html>