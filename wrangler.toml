name = "cloudlink"
main = "src/index.js"
compatibility_date = "2024-01-15"

# Add this binding to serve static assets
[vars]
ASSETS = { binding = "ASSETS", path = "./public" }

# KV 存储绑定用于持久化上传会话
[[kv_namespaces]]
binding = "UPLOAD_SESSIONS"
preview_id = "0add2e2994ab4b49aead9cb8a57836ea"
id = "084265f6541d4d3aaac83316d16be8c0"

[vars]
UPLOAD_PASSWORD = "CloudLink_Upload_2024!@#"
ADMIN_PASSWORD = "CloudLink_Admin_2024!@#"
DRIVE_FOLDER_ID = "1dmeMd7YPVIWOL_9Mjd5Mtw-rxOcclp1r"
MAX_FILE_SIZE = "2147483648"  # 2GB in bytes
ALLOWED_EXTENSIONS = "jpg,jpeg,png,gif,webp,svg,bmp,tiff,pdf,doc,docx,ppt,pptx,xls,xlsx,csv,rtf,txt,md,json,xml,html,css,js,zip,rar,7z,tar,gz,mp4,mp3,wav,flac,avi,mov,mkv,lrc,srt,ass,ssa,vtt,sub"

# 敏感信息通过 wrangler secret 命令设置
# wrangler secret put GOOGLE_SERVICE_ACCOUNT_EMAIL
# wrangler secret put GOOGLE_PRIVATE_KEY